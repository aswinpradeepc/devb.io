<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <title>devb.io - generate your 2024 github unwrapped</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="title" content="devb.io - Automated Developer Portfolios Powered by GitHub & AI">
    <meta name="description"
        content="Transform your GitHub profile into a polished portfolio instantly. AI-powered bios, automatic updates, and real-time activity tracking. Build your professional brand effortlessly">
    <meta name="keywords"
        content="developer portfolio, GitHub portfolio, AI portfolio generator, automatic portfolio, developer showcase, coding portfolio, GitHub integration, professional developer profile">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">
    <meta name="revisit-after" content="1 days">
    <meta name="author" content="sunith vs">
    <link rel="apple-touch-icon" sizes="57x57" href="meta/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="meta/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="meta/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="meta/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="meta/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="meta/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="meta/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="meta/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="meta/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="meta/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="meta/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="meta/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="meta/favicon-16x16.png">
    <link rel="manifest" href="meta/manifest.json">
    <meta name="msapplication-TileColor" content="#B9FF66">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#B9FF66">
    <script type="text/javascript">
        (function (c, l, a, r, i, t, y) {
            c[a] = c[a] || function () {
                (c[a].q = c[a].q || []).push(arguments)
            };
            t = l.createElement(r);
            t.async = 1;
            t.src = "https://www.clarity.ms/tag/" + i;
            y = l.getElementsByTagName(r)[0];
            y.parentNode.insertBefore(t, y);
        })(window, document, "clarity", "script", "pcf50fgp6g");
    </script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.0.2/firebase-analytics.js";

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyDNfTJ9M8Bd4ZmnpJ3ZHdJT_Hs9CTvd1Mw",
            authDomain: "devbio1.firebaseapp.com",
            projectId: "devbio1",
            storageBucket: "devbio1.firebasestorage.app",
            messagingSenderId: "205729381961",
            appId: "1:205729381961:web:b3d6306656a5c93c068998",
            measurementId: "G-FEX8NQ1BKV"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
    </script>
    <style>
        * {
            font-family: 'Space Grotesk', sans-serif;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 0.5;
                transform: scale(1);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
        }

        .animate-spin-slow {
            animation: spin 10s linear infinite;
        }

        .loading-dots:after {
            content: '.';
            animation: dots 1.5s steps(5, end) infinite;
        }

        @keyframes dots {
            0%, 20% {
                content: '.';
            }
            40% {
                content: '..';
            }
            60% {
                content: '...';
            }
            80%, 100% {
                content: '';
            }
        }

        .generating-animation {
            background: linear-gradient(90deg, rgba(185, 255, 102, 0.2), rgba(185, 255, 102, 0.5), rgba(185, 255, 102, 0.2));
            background-size: 200% 100%;
            animation: gradientMove 2s linear infinite;
        }

        @keyframes gradientMove {
            0% {
                background-position: 100% 0;
            }
            100% {
                background-position: -100% 0;
            }
        }
    </style>
    <style>
        #wrapper2024 .box, #wrapper2024 .glow {
            height: 45px;
            width: 225px;
            position: absolute;
            overflow: hidden;
            z-index: 0;
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #wrapper2024 .text {
            font-family: inherit;
            font-size: inherit;
            z-index: 1;
            white-space: nowrap;
            color: white;
        }

        #wrapper2024 .glow {
            filter: blur(20px);
        }

        #wrapper2024 .box:before, #wrapper2024 .glow:before {
            content: '';
            z-index: -2;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(0deg);
            width: 99999px;
            height: 99999px;
            background-image: conic-gradient(
                    #ff0000,
                    #ff8000,
                    #0000ff,
                    #8000ff,
                    #ff0000
            );
            animation: rotate2024 4s linear infinite;
        }

        #wrapper2024 .box:after {
            content: '';
            position: absolute;
            z-index: -1;
            left: 2px;
            top: 2px;
            width: calc(100% - 4px);
            height: calc(100% - 4px);
            background: black;
            color: white;

            border-radius: 0.375rem;
        }

        @keyframes rotate2024 {
            100% {
                transform: translate(-50%, -50%) rotate(360deg);
            }
        }
    </style>
</head>
<body class="bg-white">
<!-- Navbar -->
<nav class="fixed w-full bg-white/80 backdrop-blur-sm z-50 py-4 lg:px-10">
    <div class="container mx-auto px-4 flex items-center justify-between">
        <div class="flex gap-3">
            <a href="http://devb.io">
                <img width="100" src="images/logo-full.png" alt="devb.io">
            </a>
        </div>

        <div class="flex gap-3 flex justify-end items-end rounded-lg ">
            <iframe src="https://ghbtns.com/github-btn.html?user=sunithvs&repo=devb.io&type=star&count=true&size=large"
                    frameborder="0" scrolling="0" width="170" height="30" title="GitHub"></iframe>
        </div>
    </div>
</nav>

<!-- Hero Section -->
<main class="px-10 pt-20 md:px-24 md:pt-32 pb-0">
    <section class="container mx-auto px-4 flex flex-col md:flex-row items-center gap-12">
        <!-- Left Content -->
        <div class="flex-1 space-y-6">
            <h1 class="text-5xl md:text-6xl leading-tight font-medium		">
                Celebrate Your

                <span class="inline-block bg-[#B9FF66] px-4 py-2 my-5 rounded-lg ">Dev Story</span>
            </h1>
            <p class="text-xl text-gray-600">
                Every line of code has a story.
                Share yours.

            </p>

            <div class="space-y-6 w-full md:w-2/3">
                <div class="relative">
                    <!--                    <input type="text" id="username" placeholder="Enter GitHub username"-->
                    <!--                           class="w-full ring-1 px-4 py-3 rounded-lg focus:ring-2 focus:ring-[#B9FF66] focus:outline-none"-->
                    <!--                           autocomplete="off">-->
                    <div class="relative w-full lg:w-2/3">
                        <input
                                type="text"
                                id="username"
                                placeholder="Enter GitHub username"
                                class="w-full ring-1 px-4 py-3 rounded-lg focus:ring-2 focus:ring-[#B9FF66] focus:outline-none pr-10"
                                autocomplete="off"
                        >
                        <img
                                id="user_profile"
                                src="images/logo.png"
                                alt="icon"
                                class="absolute right-3 top-1/2 transform -translate-y-1/2 h-8 w-8"
                        >
                    </div>
                    <p id="error-message" class="text-red-500 text-sm mt-1 hidden"></p>
                    <div id="loading-indicator" class="hidden absolute right-3 top-3">
                        <div class="w-6 h-6 border-2 border-[#B9FF66] border-t-transparent rounded-full animate-spin"></div>
                    </div>
                </div>
                <div id='wrapper2024' class="flex items-center justify-center lg:justify-start ">
                    <div class="flex items-center">
                        <div class="glow"></div>
                        <button id="generate-btn" disabled
                                class="px-4 py-2 rounded-lg border-2 border-black bg-white transition-colors flex items-center text-black z-10 cursor-not-allowed ">
                            Generate 2024 unwrapped
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Illustration -->
        <div class="flex-1 relative" onclick="document.getElementById('username').focus()">
            <div class="relative">
                <img src="images/github-wrapped.png" alt="Portfolio Preview" class="w-full rounded-2xl">
            </div>
        </div>
    </section>

    <!-- 2024 Wrapped Section -->
    <section id="wrapped-2024" class="py-10 md:pt-20 mt-10">
        <div class="container mx-auto px-4">
            <div class="p-8 rounded-[30px] border-2 border-b-[5px] border-black">
                <div class="flex flex-col md:flex-row items-center gap-8">
                    <div class="relative">
                        <svg class="w-28 h-28 animate-spin-slow" viewBox="0 0 100 100">
                            <path id="curve" d="M 50,50 m -37,0 a 37,37 0 1,1 74,0 a 37,37 0 1,1 -74,0" fill="none"/>
                            <text>
                                <textPath href="#curve" class="text-[13px]">
                                    unwrapped
                                    <tspan fill="#70CF00">2024</tspan>
                                    | unwrapped
                                    <tspan fill="#70CF00">2024</tspan>
                                    |
                                </textPath>
                            </text>
                        </svg>
                    </div>
                    <div class="flex-1">
                        <span class="bg-[#B9FF66] px-4 py-2 rounded-lg text-2xl font-medium">2024 Unwrapped</span>
                        <p class="mt-4 text-lg">Imagine your entire year of coding captured in one beautiful poster.
                            Share your coding journey with the world!</p>
                        <p class="font-medium mt-2">No sign-in required</p>
                    </div>
                    <button class="bg-black text-white px-6 py-3 rounded-lg hover:bg-gray-800 transition-colors"
                            onclick="document.getElementById('username').focus()">
                        Generate Now
                    </button>
                </div>
            </div>
        </div>
    </section>
    <section id="why" class="py-10 md:pt-10 mt-10">
        <div class="container md:mx-auto md:px-4">

            <!-- Services Grid -->
            <div class="flex ">
                <!-- Portfolio Generation -->
                <div class=" flex flex-col md:flex-row items-center gap-12">

                    <div class="flex-1 space-y-6 order-first md:order-last">
                        <h1 class="text-2xl md:text-4xl  leading-tight">
                            Stop Portfolio Panic: <br>
                            Build Yours in a Snap
                        </h1>
                        <p class="text-xl text-gray-600">
                            Staring down a blank screen, dreading the hours it'll take to build a portfolio? Not
                            anymore!
                            devb.io is your coding BFF, turning your messy GitHub profile into a sleek, professional and
                            auto-updating portfolio in seconds.
                        </p>
                        <a href="http://devb.io"
                           class="px-4 py-2 rounded-lg border-2 border-black bg-white  flex items-center text-black z-10 hover:bg-[#B9FF66] ">
                            Generate your dev bio now
                        </a>
                    </div>
                    <!-- Right Illustration -->
                    <div class="flex-1 relative md:order-first">
                        <div class="relative xl:p-20">
                            <img src="images/graph.png" alt="Illustration" class="w-full rounded-2xl">

                        </div>
                    </div>


                </div>
            </div>
        </div>
    </section>
    <div id="modal"
         class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 lg:p-0">
        <div class="bg-white rounded-xl p-4 lg:p-6 w-full max-w-4xl h-[90vh] flex flex-col">
            <div class="flex flex-col lg:flex-row justify-between items-center mb-4 gap-4">
                <h2 class="text-2xl font-bold">2024 Unwrapped</h2>
                <div class="flex gap-4">
                    <button id="download-btn"
                            class="px-4 py-2 rounded-lg border-2 border-black bg-[#B9FF66] hover:bg-[#191A23] hover:text-white transition-colors">
                        Download
                    </button>
                    <button id="share-btn"
                            class="px-4 py-2 rounded-lg border-2 border-black hover:bg-[#B9FF66] transition-colors">
                        Share
                    </button>
                    <button id="close-modal" class="text-2xl">&times;</button>
                </div>
            </div>

            <div id="loading" class="hidden flex-1 py-20 text-center">
                <div class="animate-spin rounded-full h-16 w-16 border-b-2 border-black mx-auto mb-4"></div>
                <p>Generating your unwrapped...</p>
            </div>

            <div id="svg-preview" class="hidden flex-1 overflow-y-auto">
                <div id="svg-container" class="flex justify-center items-start">
                    <div class="w-full max-w-3xl transform-gpu">
                        <!-- SVG will be inserted here -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="bg-[#191A23] text-white rounded-t-3xl p-5 md:p-10 mt-24">
        <div class="container mx-auto p-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <div class="flex gap-3">
                        <img width="120" src="images/logo-white.png" alt="devb.io">
                    </div>
                    <p class="text-gray-400 mt-4">Effortless Portfolios for Developers</p>
                    <!--                    <a href="mai" class="text-gray-400 mt-4">contact@devb.io</a>-->
                    <a href="mailto:contact@devb.io" class="text-gray-400 mt-4"> contact@devb.io</a>
                </div>
                <div>
                    <h2 class="text-xl font-bold">Quick Links</h2>
                    <ul class="mt-4">
                        <li><a href="/" class="hover:text-lime-500 transition-colors">Home</a></li>
                        <li><a href="https://devb.io/#how-to" class="hover:text-lime-500 transition-colors">How It Works</a></li>
                        <li><a href="https://github.com/sunithvs/devb.io" class="hover:text-lime-500 transition-colors">Contribute</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <h2 class="text-xl font-bold">Follow us</h2>
                    <ul class="mt-4">
                        <li><a href="https://x.com/devb_io" target="_blank"
                               class="hover:text-lime-500 transition-colors">X</a>
                        <li><a href="https://github.com/sunithvs/devb.io" target="_blank"
                               class="hover:text-lime-500 transition-colors">Github</a></li>
                        <li><a href="https://www.instagram.com/devb.io" target="_blank"
                               class="hover:text-lime-500 transition-colors">Instagram</a>
                        <li><a href="https://www.linkedin.com/company/devb-io" target="_blank"
                               class="hover:text-lime-500 transition-colors">Linkedin</a>
                        </li>


                    </ul>
                </div>
            </div>
        </div>
    </footer>

</main>
<script src="js/main.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const usernameInput = document.getElementById('username');
        const generateBtn = document.getElementById('generate-btn');
        const errorMessage = document.getElementById('error-message');
        const loadingIndicator = document.getElementById('loading-indicator');
        const generatingIndicator = document.getElementById('generating-indicator');
        const btnText = document.getElementById('btn-text');

        function enable_generate() {
            generateBtn.disabled = false;
            generateBtn.classList.remove('cursor-not-allowed');
            generateBtn.classList.remove('opacity-50');
            generateBtn.classList.add('bg-[#B9FF66]');
            generateBtn.classList.add('bg-black');
            generateBtn.classList.add('border-black');
            generateBtn.classList.add('text-white');
            generateBtn.classList.remove('bg-white');
            generateBtn.classList.remove('text-black');

        }

        function disable_generate() {
            generateBtn.disabled = true;
            generateBtn.classList.add('cursor-not-allowed');
            generateBtn.classList.remove('bg-[#B9FF66]');
            generateBtn.classList.remove('bg-black');
            generateBtn.classList.remove('text-white');
            generateBtn.classList.add('bg-white');
            generateBtn.classList.add('border-black');
            generateBtn.classList.add('text-black');
            document.getElementById('user_profile').src = 'images/logo.png';

        }

        async function validateUsername() {
            disable_generate();
            const username = usernameInput.value.trim();
            const githubUsernameRegex = /^[a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38}$/i;

            if (!username) return;
            if (!githubUsernameRegex.test(username)) {
                showError('Invalid GitHub username');
                return;
            }
            try {
                const response = await fetch(`https://api.github.com/users/${username}`);
                // Remove shimmer effect
                if (response.status === 403) {
                    // Handle rate limiting
                    showError("Too many requests. Please try again later.")
                }

                if (response.ok) {
                    // user_profile
                    var res = await response.json();
                    console.log(res);
                    document.getElementById('user_profile').src = res.avatar_url;
                    enable_generate();
                } else {
                    showError('Invalid GitHub username');
                }
            } catch (error) {
                console.error('Error validating username:', error);
                showError('An error occurred. Please try again later.');
            }
        }

        // Debounced username validation
        const debouncedValidation = debounce(validateUsername, 1000);

        // Username input validation with debounce
        usernameInput.addEventListener('input', debouncedValidation);


        function showError(message) {
            errorMessage.textContent = message;
            errorMessage.classList.remove('hidden');
            setTimeout(() => {
                errorMessage.classList.add('hidden');
            }, 5000);

        }

        function get_svg_x(mid, font_size, text) {
            return mid - (text.length * font_size / 4);
        }

        function get_in_k_format(num) {
            if (num >= 1000) {
                return (num / 1000).toFixed(1) + "k";
            }
            return num;
        }

        async function get_base64_from_url(url) {
            return new Promise((resolve, reject) => {
                const xhr = new XMLHttpRequest();
                xhr.open("GET", url);
                xhr.responseType = "blob";
                xhr.onload = () => {
                    if (xhr.status === 200) {
                        const reader = new FileReader();
                        reader.onloadend = () => resolve(reader.result);
                        reader.onerror = reject;
                        reader.readAsDataURL(xhr.response);
                    } else {
                        reject(new Error(`Failed to fetch image: ${xhr.status}`));
                    }
                };
                xhr.onerror = () => reject(new Error("Network error"));
                xhr.send();
            });
        }


        async function updateSvg(svgText, userData) {
            const base64Image = await get_base64_from_url(userData.avatar_url);
            return svgText
                .replace(/{name}/g, userData.name)
                .replace(/{avatar}/g, `${base64Image}`)
                .replace(/{bio}/g, userData.bio ? userData.bio.slice(0, 65) + (userData.bio.length > 65 ? "..." : "") : "")
                .replace(/{follow}/g, `${get_in_k_format(userData.followers)} Followers | ${get_in_k_format(userData.following)} Following`)
                .replace(/{repos}/g, `${userData.public_repos} Public Repos`)
                .replace(/{commits}/g, `${userData.achievements.total_contributions}`)
                .replace(/{commit_x}/g, get_svg_x(370, 68.514, `${userData.achievements.total_contributions}`))
                .replace(/{issue}/g, `${userData.issues_closed}`)
                .replace(/{issue_x}/g, get_svg_x(330, 68.514, `${userData.issues_closed}`))
                .replace(/{pr}/g, `${userData.pull_requests_merged}`)
                .replace(/{pr_x}/g, get_svg_x(350, 68.514, `${userData.pull_requests_merged}`))
                .replace(/{lang1}/g, userData.top_languages[0] ? userData.top_languages[0][0] : "")
                .replace(/{lang1_x}/g, get_svg_x(370, 54, userData.top_languages[0] ? userData.top_languages[0][0] : ""))
                .replace(/{lang2}/g, userData.top_languages[1] ? userData.top_languages[1][0] : "")
                .replace(/{lang2_x}/g, get_svg_x(370, 54, userData.top_languages[1] ? userData.top_languages[1][0] : ""))
                .replace(/{lang3}/g, userData.top_languages[2] ? userData.top_languages[2][0] : "")
                .replace(/{lang3_x}/g, get_svg_x(370, 54, userData.top_languages[2] ? userData.top_languages[2][0] : ""));
        }

        const modal = document.getElementById('modal');
        const closeModal = document.getElementById('close-modal');
        const loading = document.getElementById('loading');
        const svgPreview = document.getElementById('svg-preview');
        const downloadBtn = document.getElementById('download-btn');
        const shareBtn = document.getElementById('share-btn');

        generateBtn.addEventListener('click', async () => {
            modal.classList.remove('hidden');
            loading.classList.remove('hidden');
            svgPreview.classList.add('hidden');
            // make the do
            downloadBtn.disabled = true;
            shareBtn.disabled = true;


            const username = usernameInput.value.trim();
            console.log(username);

            try {
                const response = await fetch(`https://user.devb.io/user/${username}`);
                const userData = await response.json();


                const svgResponse = await fetch('https://devb.io/poster/poster.svg');
                const svgText = await svgResponse.text();

                const updatedSvg = await updateSvg(svgText, userData);
                document.getElementById('svg-container').innerHTML = updatedSvg;


                loading.classList.add('hidden');
                svgPreview.classList.remove('hidden');
                downloadBtn.disabled = false;
                shareBtn.disabled = false;
            } catch (error) {
                console.error('Error:', error);
                loading.classList.add('hidden');
            }
        });

        closeModal.addEventListener('click', () => {
            modal.classList.add('hidden');
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) modal.classList.add('hidden');
        });

        downloadBtn.addEventListener('click', async () => {
            const svgElement = document.querySelector("#svg-container svg");
            if (!svgElement) return;

            const svgData = new XMLSerializer().serializeToString(svgElement);
            const blob = new Blob([svgData], {type: "image/svg+xml"});
            const url = URL.createObjectURL(blob);
            const pathParts = window.location.pathname.split('/').filter(part => part);
            const username = pathParts[pathParts.length - 1];

            const img = new Image();
            img.src = url;

            img.onload = () => {
                URL.revokeObjectURL(url);
                setTimeout(() => {
                    const canvas = document.createElement("canvas");
                    canvas.width = 1080 * 2;
                    canvas.height = 1920 * 2;

                    const ctx = canvas.getContext("2d");
                    ctx.drawImage(img, 0, 0);

                    const pngUrl = canvas.toDataURL("image/png");
                    const link = document.createElement("a");
                    link.download = `${username}-wrapped-2024.png`;
                    link.href = pngUrl;
                    link.click();
                }, 2000);
            };
        });
        shareBtn.addEventListener('click', async () => {
            const svgElement = document.querySelector("#svg-container svg");
            if (!svgElement) return;

            // First convert SVG to PNG using canvas, similar to download functionality
            const svgData = new XMLSerializer().serializeToString(svgElement);
            const blob = new Blob([svgData], {type: "image/svg+xml"});
            const url = URL.createObjectURL(blob);

            const img = new Image();
            img.src = url;

            img.onload = async () => {
                URL.revokeObjectURL(url);

                const canvas = document.createElement("canvas");
                canvas.width = 1080 * 2;
                canvas.height = 1920 * 2;

                const ctx = canvas.getContext("2d");
                ctx.drawImage(img, 0, 0);

                // Convert canvas to blob
                canvas.toBlob(async (blob) => {
                    try {
                        // Check if Web Share API is supported
                        if (!navigator.share) {
                            alert("Web Share API is not supported in your browser");
                            return;
                        }

                        // Check if sharing files is supported
                        if (!navigator.canShare) {
                            alert("Sharing files is not supported in your browser");
                            return;
                        }

                        const file = new File([blob], "github-unwrapped-2024.png", {
                            type: "image/png"
                        });

                        const shareData = {
                            files: [file],
                            title: '2024 GitHub Unwrapped',
                            text: 'Check out my 2024 GitHub Unwrapped!'
                        };

                        // Check if the data can be shared
                        if (!navigator.canShare(shareData)) {
                            alert("This type of data cannot be shared on your device");
                            return;
                        }
                        const pathParts = window.location.pathname.split('/').filter(part => part);
                        await navigator.share(shareData);
                    } catch (error) {
                        console.error('Error sharing:', error);
                        alert("Failed to share: " + error.message);
                    }
                }, 'image/png');
            };
        });
    });
</script>
</body>
</html>
